[raypeat.rodeo](https://raypeat.rodeo) is the open-source effort to transcribe
the public works of Ray Peat.

[![Deploy to GitHub Pages](https://github.com/marcuswhybrow/ray-peat-rodeo/actions/workflows/gh-pages.yml/badge.svg)](https://github.com/marcuswhybrow/ray-peat-rodeo/actions/workflows/gh-pages.yml)
[![Built with Nix](https://builtwithnix.org/badge.svg)](https://builtwithnix.org)

![banner](https://raw.githubusercontent.com/marcuswhybrow/ray-peat-rodeo/back-to-go/internal/assets/docs/ray-peat-rodeo-banner.png)

# Getting Started

Get [Nix Package Manager](https://nixos.org/download.html#download-nix), then 
clone this repository and start the auto-reloading dev server:

```bash
git clone git@github.com:marcuswhybrow/ray-peat-rodeo.git
cd ray-peat-rodeo
nix develop -c modd
```

- `./assets` contains a markdown file for each article or transcription.
- `./assets/todo` contains a markdown file for assets without transcriptions.
- `./github/workflows/gh-pages` auto deploys this repo to https://raypeat.rodeo
- `./cmd/ray-peat-rodeo` is the code that builds the website from the markdown 
assets.
- `./cmd/whisper-json2md` is a custom tool to massage AI transcripts to 
markdown (see [here](#ai-transcription)).
- `./internal` contains this projects unique features, especially 
`./internal/markdown` and `./internal/cache/` which provide custom markdown 
plugins and automatic caching of remote data (e.g. GitHub issue titles).

Those are the main things, and editing any of them trigger the dev server to 
auto reload, and your browser should hot-load the changes and auto refresh, 
making a near instant dev cycle.

- `./flake.nix` & `./flake.lock` tell the `nix` command how to do everything 
for us, for example the dev server (lauched by `nix develop -c modd`), tells
nix to examine `./flake.nix` enter the custom shell environment defined 
there, and run the command `modd` which is our dev server of choice.
- `./gomod2nix.toml` in conjunction with `./flake.nix` helps the `nix` command 
build this project. It's autogenerated by running `nix develop -c gomod2nix`.
- `./modd.conf` tells `modd` how to behave, such as running Tailwind CCS 
process automatically.
- `./tailwind.config.js` tells tailwind how to do it's thing.

And finally, you may want to use `direnv` & `nix-direnv` to automatically load
all project dependencies and tools into your shell environment whilst you are 
inside the project directory (auto unloads when you leave it). In the root of 
the project directory:

```bash
cat "use flake" > .envrc
direnv allow
```

# Project Goals

1. Round up every Ray Peat interview, article, newsletter and book.
2. Use AI to quickly transcribe interviews.
3. Store each interview (etc.) as human readable markdown.
4. Generate a website from those markdown source files.
5. Site-wide search of all assets.
6. Tooltips for all mentioned topics and people linking to all other mentions.
7. Timestamps linking to specific times in original audio or video.
8. Sidenote annotations for clarifications and issues to be resolved.

What this amounts to is using AI to quickly transcribe all interviews, then 
storing the results in markdown. Next, one improves and augments each markdown 
file with corrections, formatting and tagging all mentions and timecodes. 

Formatting is part of the markdown standard, but what I'm calling "mentions", 
"timecodes", and "issues" are extensions to the markdown syntax written 
specifically for this project. With custom markdown syntax any functionality
can be realised whilst keeping the markdown documents human readible for 
archival purposes, and portability to other projects.


# AI Transcription

`flake.nix` packages a `bash` script named `transcribe`. It downloads the source audio of any file in `./assets`, transcribes it, then updates the asset with the transcription, and updates the frontmatter data to reflect this change.

1. Argument #1 is the markdown file to transcribe and update.
2. Arguument #2 is your name, to log in the assets metadata.

```bash
nix run github:marcuswhybrow/ray-peat-rodeo#transcribe -- ./assets/todo/2024-10-12-example.md "Marcus Whybrow"
```

